<!DOCTYPE html>
<html>

<head>
    <title>GIF Booth</title>
    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="cssgram.min.css">
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/camanjs/4.0.0/caman.full.min.js"></script>
    <script src='gifshot.min.js'></script>
    <script src='gif.js'></script>
    <script src="latest-v2.js"></script>
    <style>
    #remoteVideos video {
        height: 150px;
    }
    
    #localVideo {
        height: 150px;
    }
    </style>
    <style>
    video {
        width: 307px;
        height: 250px;
        background: rgba(255, 255, 255, 0.5);
        border: 1px solid #ccc;
    }
    
    .grayscale {
        +filter: grayscale(1);
    }
    
    .sepia {
        +filter: sepia(1);
    }
    
    .blur {
        +filter: blur(3px);
    }
    </style>
</head>

<body>
    <video id="localVideo" autoplay></video>
    <button onclick="findRemotes()">Detect remotes</button>
    <div id="remoteVideos"></div>
    <hr />
    <h1>Gif Booth</h1>
    <h1 id="countdown"></h1>
    <canvas style="display:none; height: 200px; width:auto"></canvas>
    <!-- <video autoplay></video> -->
    <img src="" style="display:none;">
    <script src='gif.worker.js'></script>
    <script src='gifbooth.js'></script>
</body>

</html>
<script>
var webrtc = new SimpleWebRTC({
    // the id/element dom element that will hold "our" video
    localVideoEl: 'localVideo',
    // the id/element dom element that will hold remote videos
    remoteVideosEl: 'remoteVideos',
    // immediately ask for camera access
    // autoRequestMedia: true,
    // dont ask for camera access
    autoRequestMedia: true,
    // dont negotiate media
    // media: {
    //     video: true,
    //     audio: false
    // },
    media: {
        video: {
            mandatory: {
                // minWidth: 1280,
                // minHeight: 460
                minWidth: 600,
                minHeight: 400
                    // minWidth: 300,
                    // minHeight: 200,
                    // maxWidth: 600,
                    // maxHeight: 400
            }
        }
    },
    url: 'http://signalserver.herokuapp.com'
});
// we have to wait until it's ready
webrtc.on('readyToCall', function() {
    // you can name it anything
    webrtc.joinRoom('your awesome room name');
});
</script>
